<th:block th:fragment="sidebarFragment">
    <style>
        .sticky-sidebar {
            position: sticky;
            top: 0;
            align-self: flex-start;
            height: 100vh;
            overflow-y: auto;
            padding: 20px;
            background-color: #f1f1f1;
            border-right: 1px solid #ccc;
        }

        .sticky-sidebar ul {
            list-style: none;
            padding-left: 0;
        }

        .sticky-sidebar li {
            margin-bottom: 10px;
        }

        .sticky-sidebar a {
            text-decoration: none;
            color: #333;
            font-weight: bold;
        }

        .sticky-sidebar a:hover {
            color: #007bff;
        }

        .sidebar-group {
            margin-bottom: 20px;
        }

        .group-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 16px;
        }
    </style>

    <div class="sticky-sidebar">
        <!-- ğŸšŒ Bus ì˜ì—­ -->
        <div class="sidebar-group">
            <div class="group-title">ğŸšŒ Bus</div>
            <ul>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-ì •ë¥˜ì¥-ì •ë³´')"> ì •ë¥˜ì¥ ì •ë³´</a></li>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-ë…¸ì„ -ì •ë³´')"> ë…¸ì„  ì •ë³´</a></li>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-ê¸¸ì°¾ê¸°-ì •ë³´-ì„¤ì •')"> ê¸¸ì°¾ê¸° ì •ë³´ ì„¤ì •</a></li>
                <li><a href="#" onclick="scrollToSection('ê³µê³µë°ì´í„°-ë²„ìŠ¤-ê¸°ì´ˆ-ì •ë³´')"> ê³µê³µë°ì´í„° ê¸°ì´ˆ ì •ë³´</a></li>
                <li><a href="#" onclick="scrollToSection('ì‚¬ìš©ì-ë²„ìŠ¤-ì •ë³´-ì„œì¹­')"> ì‚¬ìš©ì ì •ë³´ ì„œì¹­</a></li>
            </ul>
        </div>

        <!-- ğŸ“¢ ê´‘ê³  ì˜ì—­ -->
        <div class="sidebar-group">
            <div class="group-title">ğŸ“¢ Ad</div>
            <ul>
                <li><a href="#" onclick="scrollToSection('ê´‘ê³ -ê´€ë¦¬')"> ê´‘ê³  ê´€ë¦¬</a></li>
                <li><a href="#" onclick="scrollToSection('ê´‘ê³ -íšŒì‚¬-ê´€ë¦¬')"> ê´‘ê³  íšŒì‚¬ ê´€ë¦¬</a></li>
            </ul>
        </div>

        <!-- ğŸ—‚ Board ì˜ì—­ -->
        <div class="sidebar-group">
            <div class="group-title">ğŸ—‚ Board</div>
            <ul>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-ë…¸ì„ -ì‹œê°„í‘œ')"> ë…¸ì„  ì‹œê°„í‘œ</a></li>
                <li><a href="#" onclick="scrollToSection('ì‹œê°„í‘œ-ì •ë¥˜ì¥-ì§€ì •')"> ì •ë¥˜ì¥ ì§€ì •</a></li>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-ìš”ê¸ˆ-ì •ë³´')"> ìš”ê¸ˆ ì •ë³´</a></li>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-íšŒì‚¬-ì •ë³´')"> íšŒì‚¬ ì •ë³´</a></li>
                <li><a href="#" onclick="scrollToSection('ë²„ìŠ¤-ì •ë¥˜ì¥-ì¡°íšŒ')"> ì •ë¥˜ì¥ ì¡°íšŒ</a></li>
            </ul>
        </div>

        <!-- ğŸ“¦ LostFound ì˜ì—­ -->
        <div class="sidebar-group">
            <div class="group-title">ğŸ“¦ LostFound</div>
            <ul>
                <li><a href="#" onclick="scrollToSection('ìŠµë“ë¬¼-ê´€ë¦¬')"> ìŠµë“ë¬¼ ê´€ë¦¬</a></li>
                <li><a href="#" onclick="scrollToSection('ë¶„ì‹¤ë¬¼-ê´€ë¦¬')"> ë¶„ì‹¤ë¬¼ ê´€ë¦¬</a></li>
                <li><a href="#" onclick="scrollToSection('ë¶„ì‹¤ë¬¼-ì¼ë°˜')"> ë¶„ì‹¤ë¬¼(ì¼ë°˜íšŒì›)</a></li>
                <li><a href="#" onclick="scrollToSection('ìŠµë“ë¬¼-ì¼ë°˜')"> ìŠµë“ë¬¼(ì¼ë°˜íšŒì›)</a></li>
            </ul>
        </div>

        <!-- â“ Q&A ì˜ì—­ -->
        <div class="sidebar-group">
            <div class="group-title">â“ Qna</div>
            <ul>
                <li><a href="#" onclick="scrollToSection('ì§ˆë¬¸-ê´€ë¦¬')"> ì§ˆë¬¸ ê´€ë¦¬</a></li>
            </ul>
        </div>
    </div>

    <script>
        function scrollToSection(tagName) {
            const el = document.querySelector(`#operations-tag-${tagName}`);
            console.log("ì°¾ì€ ìš”ì†Œ:", el);

            if (el) {
                const isOpen = el.getAttribute('data-is-open');
                if (isOpen === 'false') {
                    el.click();
                }
                setTimeout(() => {
                    el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 300);
            } else {
                alert('í•´ë‹¹ íƒœê·¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nì •ì˜ê°€ ë§ëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
            }
        }
    </script>
</th:block>
