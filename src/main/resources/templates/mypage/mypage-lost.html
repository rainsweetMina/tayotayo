<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>λ¶„μ‹¤λ¬Ό μ‹ κ³ </title>
</head>
<body>
<h2>π λ¶„μ‹¤λ¬Ό μ‹ κ³ </h2>
<p>λ²„μ¤μ—μ„ λ¶„μ‹¤ν•μ‹  λ¬Όκ±΄μ„ μ‹ κ³ ν•΄μ£Όμ„Έμ”</p>

<!-- π“„ λ¶„μ‹¤λ¬Ό λ©λ΅ -->
<table border="1" style="width: 100%; margin-top: 20px; border-collapse: collapse; text-align: center;">
    <thead>
    <tr>
        <th>λ²νΈ</th>
        <th>λ¶„μ‹¤λ¬Ό</th>
        <th>λ‚΄μ©λ¬Ό</th>
        <th>λ¶„μ‹¤μΌ</th>
        <th>λ²„μ¤νμ‚¬<br>λ…Έμ„ λ²νΈ</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="item : ${lostItems}">
        <td th:text="${item.id}">λ²νΈ</td>
        <!-- β… μ λ© ν΄λ¦­ μ‹ μƒμ„Ένμ΄μ§€λ΅ μ΄λ™ -->
        <td>
            <a th:href="@{/mypage/lost/view/{id}(id=${item.id})}" th:text="${item.title}">λ¶„μ‹¤λ¬Ό</a>
        </td>
        <td th:text="${#strings.abbreviate(item.content, 30)}">λ‚΄μ© μ”μ•½</td>
        <td th:text="${#temporals.format(item.lostTime, 'yyyy-MM-dd')}">2025-04-21</td>
        <td>
            <span th:text="${item.busCompany}">λ²„μ¤νμ‚¬</span><br>
            <span th:text="${item.busNumber}">123</span>
        </td>
    </tr>
    </tbody>
</table>

<!-- β• λ“±λ΅ λ²„νΌ -->
<button type="button" onclick="toggleForm()" style="margin-top: 20px;">+ λ¶„μ‹¤λ¬Ό λ“±λ΅</button>

<!-- π“‹ λ¶„μ‹¤λ¬Ό λ“±λ΅ νΌ -->
<form id="lostForm" th:action="@{/mypage/lost}" method="post" style="display:none; margin-top: 15px;">
    <div>
        <label>λ¶„μ‹¤λ¬Ό: <input type="text" name="title" required></label>
    </div>
    <div>
        <label>λ‚΄μ©: <textarea name="content" required></textarea></label>
    </div>
    <div>
        <label>λ²„μ¤νμ‚¬: <input type="text" name="busCompany" required></label>
    </div>
    <div>
        <label>λ²„μ¤λ²νΈ: <input type="text" name="busNumber" required></label>
    </div>
    <div>
        <label>λ¶„μ‹¤μΌμ‹: <input type="datetime-local" name="lostTime"></label>
    </div>
    <button type="submit" style="margin-top: 10px;">μ μ¶</button>
</form>

<script>
    function toggleForm() {
        const form = document.getElementById('lostForm');
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
</script>
</body>
</html>
